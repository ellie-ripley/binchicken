function reportAnswer(data) {
    if (data[0].isCorrect) {
        document.getElementById("#{rawJS displayResultId}").innerHTML =
          "Right answer! The formula <span class='oblang'>"
            + data[1].rformula
            + "</span> indeed has the value <span class='oblang'>"
            + data[1].rval
            + "</span> on this valuation.";
        document.getElementById("#{rawJS buttonsID}").innerHTML = "";
    } else {
        document.getElementById("#{rawJS displayResultId}").innerHTML =
          "Wrong answer! The formula <span class='oblang'>"
            + data[1].rformula
            + "</span> does not have the value <span class='oblang'>"
            + data[1].rval
            + "</span> on this valuation.";
    }
    document.getElementById("#{rawJS displayResultId}").innerHTML +=
      '<p><button class="btn btn-primary" onClick="window.location.reload(true)">Next formula and valuation.</button></p>'
}

function logError(data) {
    console.log("Error reporting response.");
}

$(function() {
  $("#js-button-DunnBelnapT").click(function() {
    // Make an AJAX request to the server to create a new attempt
    $.ajax({
      url: '@{EvalDunnBelnapR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        iebFormula: #{toJSON formula},
        iebValuation: #{toJSON dbval},
        iebResponse: #{toJSON DunnBelnapT}
      }),
      success: reportAnswer,
      error: logError
    });
  });

  $("#js-button-DunnBelnapF").click(function() {
    $.ajax({
      url: '@{EvalDunnBelnapR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        iebFormula: #{toJSON formula},
        iebValuation: #{toJSON dbval},
        iebResponse: #{toJSON DunnBelnapF}
      }),
      success: reportAnswer,
      error: logError
    });
  });

  $("#js-button-DunnBelnapB").click(function() {
    $.ajax({
      url: '@{EvalDunnBelnapR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        iebFormula: #{toJSON formula},
        iebValuation: #{toJSON dbval},
        iebResponse: #{toJSON DunnBelnapB}
      }),
      success: reportAnswer,
      error: logError
    });
  });

  $("#js-button-DunnBelnapN").click(function() {
    $.ajax({
      url: '@{EvalDunnBelnapR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        iebFormula: #{toJSON formula},
        iebValuation: #{toJSON dbval},
        iebResponse: #{toJSON DunnBelnapN}
      }),
      success: reportAnswer,
      error: logError
    });
  });

});
