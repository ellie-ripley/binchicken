function reportAnswer(data) {
    if (data[0].isCorrect) {
        document.getElementById("#{rawJS displayResultId}").innerHTML =
          "Right answer! The formula <span class='oblang'>"
            + data[1].rformula
            + "</span> indeed has the value <span class='oblang'>"
            + data[1].rval
            + "</span> on this valuation.";
        document.getElementById("#{rawJS buttonsID}").innerHTML = "";
    } else {
        document.getElementById("#{rawJS displayResultId}").innerHTML =
          "Wrong answer! The formula <span class='oblang'>"
            + data[1].rformula
            + "</span> does not have the value <span class='oblang'>"
            + data[1].rval
            + "</span> on this valuation.";
    }
    document.getElementById("#{rawJS displayResultId}").innerHTML +=
      '<p><button class="btn btn-primary" onClick="window.location.reload(true)">Next formula and valuation.</button></p>'
}

function logError(data) {
    console.log("Error reporting response.");
}

$(function() {
  $("#js-button-StrongKleeneT").click(function() {
    // Make an AJAX request to the server to create a new attempt
    $.ajax({
      url: '@{EvalStrongKleeneR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        ieskExerciseId: #{toJSON exid},
        ieskResponse: #{toJSON StrongKleeneT}
      }),
      success: reportAnswer,
      error: logError
    });
  });

  $("#js-button-StrongKleeneF").click(function() {
    $.ajax({
      url: '@{EvalStrongKleeneR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        ieskExerciseId: #{toJSON exid},
        ieskResponse: #{toJSON StrongKleeneF}
      }),
      success: reportAnswer,
      error: logError
    });
  });

  $("#js-button-StrongKleeneStar").click(function() {
    $.ajax({
      url: '@{EvalStrongKleeneR}',
      type: 'POST',
      contentType: "application/json",
      data: JSON.stringify({
        ieskExerciseId: #{toJSON exid},
        ieskResponse: #{toJSON StrongKleeneStar}
      }),
      success: reportAnswer,
      error: logError
    });
  });

});
